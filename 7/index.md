# 12. 물리적 저장 장치 시스템


# 12.6 디스크 블록 접근

대부분의 디스크 IO를 담당하는 질의 처리 서브시스템과 함께, DB 시스템이 디스크 IO 요청을 생성한다.
각 요청은 디스크의 식별자 + 논리 블럭 번호로 구성된다.
DB가 OS 파일에 저장되면 IO 요청은 파일 식별자+파일내 블록 번호로 구성된다.
OS는 DB를 위해 디스크-메모리 사이 데이터 전송을 담당한다.



디스크 블록에 대한 요청을 두 가지로 분류한다.   
순차적 접근 유형(sequential access) - 연속적인 요청은 같은 트랙 or 인접 트랙의 연속적 블럭을 대상으로 함   
임의 접근 유형(random access) - 연속적인 요청은 디스크 상 임의 위치한 블록을 대상으로 함. 각 요청은 탐색이 필요하여 접근 시간이 길어지고, 초당 IO 연산 수가 줄어듦.
<br><br>
접근 횟수(특히 임의 접근)를 최소화 하기 위한 여러 기법이 개발되었다.
그리고 이는 자기 디스크에 저장된 데이터의 경우, 성능에 매우 중요하다.(SSD도 영향은 적으나, 일부 기법은 SSD에서도 그대로 이득을 가져다 줃나)

- 버퍼링(Buffering): 다음 요청을 위해 디스크로부터 읽는 블록을 메모리 버퍼에 임시로 저장하는 기법. DB와 OS 모두에서 잘 동작
- 미리 읽기(Read-ahead): 디스크 블록에 접근 시, 블록에 요청이 없어도 동일 트랙 내 연속적 블록을 일단 메모리 버퍼 내로 읽음. 순차적 접근에서, 미리 읽기는 매우 효과적(미리읽기로 읽어온 데이터를 계속 요청하게될 것이므로)
- 
